# Отчет 3: Разворачивание инфраструктуры и CI/CD

## 1. Написание Dockerfile для проекта
В `Dockerfile` для проекта на Go был создан образ, который включает в себя все необходимые зависимости: Go, библиотеки и утилиты для работы с базой данных и Redis. Этот Dockerfile также настраивает рабочую директорию, копирует исходный код в контейнер, устанавливает зависимости и настраивает точку входа для приложения.
Ниже приведен сам Dockerfile, доступный по ссылке: [Dockerfile](../backend/Dockerfile).

## 2. Создание docker-compose.yaml для локального запуска (Go + БД + Redis)
В `docker-compose.yaml` был настроен локальный стек для запуска контейнеров с Go-приложением, PostgreSQL и Redis. Этот файл упрощает управление контейнерами, обеспечивая возможность работы всех компонентов в едином окружении с помощью одной команды 

```bash
docker-compose up
```
Этот файл можно найти по следующей ссылке: [docker-compose.yml](../docker-compose.yml).

## 3. Настройка автоматических миграций БД
Для автоматической настройки базы данных при запуске приложения были интегрированы миграции с использованием библиотеки `golang-migrate`.
Код для запуска миграций находится в файле [`migrations.go`](../backend/internal/db/migrations.go) При старте приложения происходит подключение к базе данных, выполнение миграций, если они необходимы, и запуск сервера. Миграции хранятся в папке [`migrations`](../backend/migrations), где каждый файл представляет собой отдельную миграцию с SQL-запросами, необходимыми для изменения структуры базы данных.

## 4. Настройка CI/CD
in progress...